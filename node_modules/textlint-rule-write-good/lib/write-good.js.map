{"version":3,"sources":["../src/write-good.js"],"names":[],"mappings":";;;;;;AAAA;;AACA;;;;;;;;AAEA,SAAS,QAAT,CAAkB,OAAlB,EAAyC;MAAd,gEAAU,kBAAI;MAErC,SAIE,QAJF,OAFqC;MAGrC,YAGE,QAHF,UAHqC;MAIrC,SAEE,QAFF,OAJqC;MAKrC,YACE,QADF,UALqC;;AAOvC,MAAM,SAAS,mCAAe,OAAf,CAAT,CAPiC;;AASvC,6BACG,OAAO,GAAP,YAAY,MAAM;AACjB,QAAI,OAAO,WAAP,CAAmB,IAAnB,EAAyB,CAAC,OAAO,UAAP,CAA1B,CAAJ,EAAmD;AACjD,aADiD;KAAnD;;AAIA,QAAM,OAAO,UAAU,IAAV,CAAP,CALW;AAMjB,QAAM,cAAc,yBAAU,IAAV,EAAgB,OAAhB,CAAd,CANW;;AAQjB,gBAAY,OAAZ,CAAoB,UAAC,UAAD,EAAgB;UAEhC,QAEE,WAFF,MAFgC;UAGxB,UACN,WADF,OAHgC;;;AAMlC,aAAO,IAAP,EAAa,IAAI,SAAJ,CAAc,OAAd,EAAuB,EAAE,YAAF,EAAvB,CAAb,EANkC;KAAhB,CAApB,CARiB;IADrB,CATuC;CAAzC;;kBA8Be;AACb,UAAQ,QAAR;AACA,SAAO,QAAP","file":"write-good.js","sourcesContent":["import { RuleHelper } from 'textlint-rule-helper';\nimport writeGood from 'write-good';\n\nfunction reporter(context, options = {}) {\n  const {\n    Syntax,\n    getSource,\n    report,\n    RuleError,\n  } = context;\n  const helper = new RuleHelper(context);\n\n  return {\n    [Syntax.Str](node) {\n      if (helper.isChildNode(node, [Syntax.BlockQuote])) {\n        return;\n      }\n\n      const text = getSource(node);\n      const suggestions = writeGood(text, options);\n\n      suggestions.forEach((suggestion) => {\n        const {\n          index,\n          reason: message,\n        } = suggestion;\n\n        report(node, new RuleError(message, { index }));\n      });\n    },\n  };\n}\n\nexport default {\n  linter: reporter,\n  fixer: reporter,\n};\n"]}