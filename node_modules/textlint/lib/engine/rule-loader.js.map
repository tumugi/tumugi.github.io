{"version":3,"sources":["../../src/engine/rule-loader.js"],"names":[],"mappings":"AAAA;;;;;QAWgB,W,GAAA,W;AAVhB,IAAM,iBAAiB,QAAQ,iBAAR,CAAvB;AACA,IAAM,KAAK,QAAQ,IAAR,CAAX;AACA,IAAM,OAAO,QAAQ,MAAR,CAAb;;;;;;;;AAQO,SAAS,WAAT,CAAqB,QAArB,EAAgD;AAAA,QAAjB,OAAiB,yDAAP,KAAO;;AACnD,QAAI,6BAAJ;AACA,QAAI,CAAC,QAAL,EAAe;AACX,+BAAuB,KAAK,IAAL,CAAU,SAAV,EAAqB,OAArB,CAAvB;AACH,KAFD,MAEO;AACH,+BAAuB,KAAK,OAAL,CAAa,QAAQ,GAAR,EAAb,EAA4B,QAA5B,CAAvB;AACH;AACD,QAAM,QAAQ,OAAO,MAAP,CAAc,IAAd,CAAd;AACA,OAAG,WAAH,CAAe,oBAAf,EAAqC,OAArC,CAA6C,gBAAQ;AACjD,YAAI,KAAK,OAAL,CAAa,IAAb,MAAuB,OAA3B,EAAoC;AAChC;AACH;AACD,YAAM,aAAa,KAAK,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAnB;AACA,cAAM,UAAN,IAAoB,eAAe,KAAK,IAAL,CAAU,oBAAV,EAAgC,IAAhC,CAAf,CAApB;AACH,KAND;AAOA,WAAO,KAAP;AACH","file":"rule-loader.js","sourcesContent":["\"use strict\";\nconst interopRequire = require(\"interop-require\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\n/**\n * Load all rule modules from specified directory.\n * These are filtered by [extname]\n * @param {String} [rulesDir] Path to rules directory, may be relative. Defaults to `lib/rules`.\n * @param {String} [extname] extension name\n * @returns {Object} Loaded rule modules by rule ids (file names).\n */\nexport function loadFromDir(rulesDir, extname = \".js\") {\n    let rulesDirAbsolutePath;\n    if (!rulesDir) {\n        rulesDirAbsolutePath = path.join(__dirname, \"rules\");\n    } else {\n        rulesDirAbsolutePath = path.resolve(process.cwd(), rulesDir);\n    }\n    const rules = Object.create(null);\n    fs.readdirSync(rulesDirAbsolutePath).forEach(file => {\n        if (path.extname(file) !== extname) {\n            return;\n        }\n        const withoutExt = file.slice(0, -3);\n        rules[withoutExt] = interopRequire(path.join(rulesDirAbsolutePath, file));\n    });\n    return rules;\n}\n"]}